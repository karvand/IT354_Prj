<html>
<head>
    <title>SOAP JavaScript Client Test</title>
    <script type="text/javascript">
        function findTheaters() {

var zip = document.getElementById("zip").value;
if(isValidUSZip(zip)||zip == ""){
xmlhttp = new XMLHttpRequest();
var url = "http://www.fandango.com/rss/moviesnearme_"+zip; 
		xmlhttp.open('GET', url, true);
		xmlhttp.setRequestHeader("Accept", "application/xml");
		xmlhttp.send();
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4) {
				if (xmlhttp.status == 200) {
                    var text = xmlhttp.responseText;
					if (window.DOMParser)
  {
  parser=new DOMParser();
  xmlDoc=parser.parseFromString(text,"text/xml");
  }
else // Internet Explorer
  {
  xmlDoc=new ActiveXObject("Microsoft.XMLDOM");
  xmlDoc.async=false;
  xmlDoc.loadXML(text);
  }  
   document.getElementById("num").innerHTML=
xmlDoc.getElementsByTagName("title")[2].childNodes[0].nodeValue;
alert(xmlDoc.getElementsByTagName("title")[2].childNodes[0].nodeValue);
 document.getElementById("street").innerHTML=
xmlDoc.getElementsByTagName("link")[2].childNodes[0].nodeValue;
document.getElementById("city").innerHTML=
xmlDoc.getElementsByTagName("description")[1].childNodes[0].nodeValue;

   }
   }
   }
   }
   else{
    document.getElementById("output").innerHTML = "Please enter a valid zip code";
   }
   }
   
   function isValidUSZip(zip) {
   return /^\d{5}(-\d{4})?$/.test(zip);
}
    </script>
</head>
<body>
    <form name="Demo" action="" method="post">
        <div>
	        <input type="text" value="" id="zip" /> <br />
            <input type="button" value="Soap" onclick="findTheaters()" /> <br />
            <span id="num"></span> <span id="street"></span><br /> <span id="city"></span> <span id="state"></span> <span id="zip"></span>
        </div>
    </form>
</body>
<html>